# Python Semantic Release v9 configuration
# See: https://python-semantic-release.readthedocs.io/

[tool.semantic_release]
# Version management
version_toml = ["pyproject.toml:project.version"]
version_variables = ["src/jbom/__version__.py:__version__"]

# Build configuration
build_command = "pip install build && python -m build"
dist_glob_patterns = ["dist/*"]

# Branch configuration
branch = "main"

# Changelog configuration
[tool.semantic_release.changelog]
exclude_commit_patterns = [
    "^chore(?:\\(.+\\))?: .*",
    "^ci(?:\\(.+\\))?: .*",
    "^docs(?:\\(.+\\))?: .*",
    "^style(?:\\(.+\\))?: .*",
    "^test(?:\\(.+\\))?: .*",
]

# Commit parsing (use default Angular-style)
[tool.semantic_release.commit_parser_options]
major_tags = ["breaking"]
minor_tags = ["feat", "feature"]
patch_tags = ["fix", "perf", "refactor"]

# Publishing configuration
[tool.semantic_release.publish]
dist_glob_patterns = ["dist/*"]
upload_to_vcs_release = true
